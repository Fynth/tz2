# Task Management System

Django REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram –±–æ—Ç–∞ –∏ Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Git

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository-url>
cd tz
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:**
```bash
docker-compose up --build
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 5433)
- Redis (–ø–æ—Ä—Ç 6379)
- Django API —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000)
- Celery worker
- Celery beat scheduler
- Telegram –±–æ—Ç–∞

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
docker-compose ps
```

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ó–∞–¥–∞—á–∏ (Tasks)
- `GET /api/tasks/` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /api/tasks/` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
- `GET /api/tasks/{id}/` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
- `PUT /api/tasks/{id}/` - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
- `DELETE /api/tasks/{id}/` - –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Categories)
- `GET /api/categories/` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `POST /api/categories/` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- `GET /api/categories/{id}/` - –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID
- `PUT /api/categories/{id}/` - –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- `DELETE /api/categories/{id}/` - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- `GET /api/user-tasks/` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
```bash
curl -X POST http://localhost:8000/api/tasks/ \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",
    "category_ids": ["CAT_1234567890ABCDEF"]
  }'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
```bash
curl http://localhost:8000/api/tasks/
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```bash
curl -X POST http://localhost:8000/api/categories/ \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–†–∞–±–æ—Ç–∞",
    "description": "–†–∞–±–æ—á–∏–µ –∑–∞–¥–∞—á–∏"
  }'
```

## ü§ñ Telegram –ë–æ—Ç

–ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ Telegram.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ [@BotFather](https://t.me/botfather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `docker-compose.yml` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_BOT_TOKEN`

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **–¢–∏–ø:** PostgreSQL 15
- **–ü–æ—Ä—Ç:** 5433 (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º PostgreSQL)
- **–ò–º—è –ë–î:** todo_db
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** postgres
- **–ü–∞—Ä–æ–ª—å:** postgres

## üìã –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Task (–ó–∞–¥–∞—á–∞)
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `title`: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `completed`: –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `due_date`: –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `created_at`: –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at`: –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `user`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (ForeignKey)
- `categories`: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (ManyToMany)

### Category (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `name`: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `created_at`: –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at`: –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs django
docker-compose logs celery
docker-compose logs bot
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
docker-compose exec django python manage.py migrate
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
```bash
docker-compose exec django python manage.py makemigrations
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
docker-compose exec django python manage.py createsuperuser
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose restart django
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose down
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
source .venv/bin/activate
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
python manage.py runserver
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ api/           # Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ API
‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ serializers.py # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã DRF
‚îÇ   ‚îú‚îÄ‚îÄ views.py       # View-–∫–ª–∞—Å—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ urls.py        # URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ bot/           # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ bot.py         # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ dialogs.py     # –î–∏–∞–ª–æ–≥–∏ —Å aiogram-dialog
‚îÇ   ‚îî‚îÄ‚îÄ main.py        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ core/          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
    ‚îú‚îÄ‚îÄ settings.py    # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îú‚îÄ‚îÄ celery.py      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Celery
    ‚îî‚îÄ‚îÄ urls.py        # –ì–ª–∞–≤–Ω—ã–π URLconf
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5433, –∞ –Ω–µ 5432.

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** 
```bash
docker-compose exec django python manage.py makemigrations
docker-compose exec django python manage.py migrate
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ –ª–æ–≥–∏:
```bash
docker-compose logs bot
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request
